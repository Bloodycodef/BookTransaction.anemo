### Variables
@baseUrl = http://localhost:8000/api
@contentType = application/json

@outlet_token = Bearer 8|SL2A6Vhv4YhcRcNjtzI3QDoFNVrg4IFNEdI1QLXNa451aff7

@ho_token = Barer 

### 0. TEST API ROOT (Harusnya bekerja sekarang)
GET {{baseUrl}}/


### 1. LOGIN - Head Office
# @name loginHo
POST http://localhost:8000/api/login
Accept: application/json
Content-Type: application/json

{
  "email": "ho@example.com",
  "password": "password"
}

### 2. LOGIN - Outlet
# @name loginOutlet
POST {{baseUrl}}/login
Content-Type: {{contentType}}

{
    "email": "outlet@example.com",
    "password": "password"
}


### 3. LOGIN - Invalid Credentials
POST {{baseUrl}}/login
Content-Type: {{contentType}}
Accept: application/json

{
    "email": "wrong@example.com",
    "password": "wrongpassword"
}


### 4. GET CURRENT USER (ME) - Head Office
GET {{baseUrl}}/me
Authorization: Bearer {{ho_token}}



### 5. GET CURRENT USER (ME) - Outlet
GET {{baseUrl}}/me
Authorization: Bearer {{outlet_token}}


### 6. LOGOUT - Head Office
POST {{baseUrl}}/logout
Authorization: Bearer {{ho_token}}


### 7. LOGOUT - Outlet
POST {{baseUrl}}/logout
Authorization: Bearer {{outlet_token}}


### 8. ACCESS PROTECTED ROUTE WITHOUT TOKEN
GET {{baseUrl}}/me


### 9. PRODUCT ROUTES - Test as Head Office
### 9.1 Get all products (HO)
GET {{baseUrl}}/products
Authorization: Bearer {{ho_token}}


### 9.2 Create product (HO)
POST {{baseUrl}}/products
Authorization: Bearer {{outlet_token}}
Content-Type: {{contentType}}

{
    "name": "Test Product",
    "price": 100000,
    "stock": 50
}


### 9.3 Try access products as Outlet (Should fail)
GET {{baseUrl}}/products
Authorization: Bearer {{outlet_token}}


### 10. ORDER ROUTES
### 10.1 Create order as Outlet
POST {{baseUrl}}/orders
Authorization: Bearer {{outlet_token}}
Content-Type: {{contentType}}

{
    "items": [
        {
            "product_id": "{{product_id}}",
            "quantity": 2
        }
    ]
}


### 10.2 Get my orders (Outlet)
GET {{baseUrl}}/my-orders
Authorization: Bearer {{outlet_token}}


### 10.3 Get all orders (HO)
GET {{baseUrl}}/orders
Authorization: Bearer {{ho_token}}
